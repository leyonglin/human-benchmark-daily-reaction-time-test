import{H as b,G as M}from"./GameSquare-00a19c17.js";import{r as g,k as w,_ as T,m as L,a as c,c as v,f as p,g as y,d as l,u as a,n as V,F as z,b as C,i as G,G as q,j as B}from"./index-bfd6a60f.js";function H(){const o=g("start"),s=g(1),m=g(localStorage.getItem("visualGameBestLevel")||0),n=w([]),i=g(new Set),u=g(new Set),d=g("Remember the pattern of squares. The test will get progressively harder."),_=()=>{n.length=0;const e=Math.min(3+Math.floor(s.value/2),7),t=Math.min(3+s.value,e*e-1);for(let r=0;r<e*e;r++)n.push({id:r,active:!1,selected:!1});for(i.value.clear();i.value.size<t;){const r=Math.floor(Math.random()*(e*e));i.value.has(r)||(i.value.add(r),n[r].active=!0)}},f=()=>{o.value="memorize",u.value.clear(),_(),setTimeout(()=>{o.value==="memorize"&&(n.forEach(e=>{e.active=!1}),o.value="input")},3e3)};return{gameState:o,level:s,bestLevel:m,grid:n,gameStatus:d,startGame:f,toggleSquare:e=>{if(o.value!=="input")return;const t=n.find(r=>r.id===e);t&&(t.selected=!t.selected,t.selected?u.value.add(e):u.value.delete(e))},checkAnswer:()=>{Array.from(u.value).every(t=>i.value.has(t))&&u.value.size===i.value.size?(s.value++,s.value>m.value&&(m.value=s.value,localStorage.setItem("visualGameBestLevel",s.value)),f()):(o.value="result",n.length=0,d.value=`Game Over!
Your record: Level ${s.value}
Best record: Level ${m.value}`)},resetGame:()=>{s.value=1,o.value="start",d.value="Remember the pattern of squares. The test will get progressively harder."}}}const x={class:"game-page"},A={class:"game-content"},$={key:0,class:"game-screen"},I=["innerHTML"],N={key:1,class:"grid-container"},R=["onClick"],E={key:0,class:"controls"},F={key:1,class:"game-screen"},O=["innerHTML"],j={class:"other-games"},Y={__name:"VisualView",setup(o){const{gameState:s,level:m,bestLevel:n,grid:i,gameStatus:u,startGame:d,toggleSquare:_,checkAnswer:f,resetGame:h}=H(),S=L(()=>({gridTemplateColumns:`repeat(${Math.min(3+Math.floor(m.value/2),7)}, 1fr)`}));return(k,e)=>(c(),v("div",x,[p(b,{subtitle:"Remember more and more board of squares"},{default:y(()=>[p(M,null,{default:y(()=>[l("div",A,[a(s)==="start"?(c(),v("div",$,[e[3]||(e[3]=l("h2",null,"Visual Memory Test",-1)),l("p",{class:"status",innerHTML:a(u)},null,8,I),l("button",{class:"game-button",onClick:e[0]||(e[0]=(...t)=>a(d)&&a(d)(...t))},"Start Test")])):(c(),v("div",N,[l("div",{class:"grid",style:V(S.value)},[(c(!0),v(z,null,C(a(i),t=>(c(),v("div",{key:t.id,class:B(["square",{active:t.active,selected:t.selected}]),onClick:r=>a(_)(t.id)},null,10,R))),128))],4),a(s)==="input"?(c(),v("div",E,[l("button",{class:"game-button",onClick:e[1]||(e[1]=(...t)=>a(f)&&a(f)(...t))},"Submit")])):G("",!0),a(s)==="result"?(c(),v("div",F,[e[4]||(e[4]=l("h2",null,"Game Over",-1)),l("p",{class:"status",innerHTML:a(u)},null,8,O),l("button",{class:"game-button",onClick:e[2]||(e[2]=(...t)=>a(h)&&a(h)(...t))},"Try Again")])):G("",!0)]))])]),_:1})]),_:1}),l("div",j,[e[5]||(e[5]=l("h2",null,"More Tests",-1)),p(q)])]))}},K=T(Y,[["__scopeId","data-v-464a4f04"]]);export{K as default};
