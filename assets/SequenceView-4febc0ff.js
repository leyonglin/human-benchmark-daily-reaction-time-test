import{r as c,k as w,_ as M,a as v,c as d,f as g,g as y,d as n,u as o,F as q,t as C,i as L,b as T,j as S,G as b,l as G}from"./index-bfd6a60f.js";import{H as V,G as B}from"./GameSquare-00a19c17.js";function H(){const _=c("start"),t=c(0),h=c(0),s=c([]),l=c([]),r=c("Click anywhere to start."),a=w(Array(9).fill({}).map(()=>({active:!1,clicked:!1})));let u=c(!1);const f=()=>{u.value||(t.value=1,s.value=[Math.floor(Math.random()*9)],m())},m=async()=>{u.value=!0,r.value="Watch the sequence...",l.value=[];for(const e of s.value)await new Promise(i=>setTimeout(i,500)),a[e].active=!0,await new Promise(i=>setTimeout(i,500)),a[e].active=!1;r.value="Repeat the sequence",u.value=!1};return{gameState:_,level:t,bestLevel:h,status:r,squares:a,handleClick:e=>{if(!u.value){if(_.value==="start"){_.value="playing",f();return}if(e!==-1){if(a[e].clicked=!0,setTimeout(()=>{a[e].clicked=!1},200),l.value.push(e),l.value[l.value.length-1]!==s.value[l.value.length-1]){t.value>h.value&&(h.value=t.value),r.value=`Your record: Level ${t.value}
Best record: Level ${h.value}`,t.value=0,_.value="start";return}l.value.length===s.value.length&&(t.value++,s.value.push(Math.floor(Math.random()*9)),setTimeout(m,1e3))}}},isPlaying:u}}const P={class:"game-page"},N={key:0,class:"start-screen"},$=["innerHTML"],F={class:"game-header"},R={key:0,class:"level"},j={class:"grid"},x=["onClick"],z={class:"status"},A={class:"other-games"},D={__name:"SequenceView",setup(_){const{level:t,bestLevel:h,status:s,squares:l,handleClick:r,gameState:a,isPlaying:u}=H(),f=()=>{a.value==="start"&&r(-1)},m=p=>{a.value!=="start"&&r(p)};return(p,e)=>(v(),d("div",P,[g(V,{subtitle:"Remember and repeat the lighting order of the squares"},{default:y(()=>[g(B,null,{default:y(()=>[n("div",{class:S(["game-content",{"not-clickable":o(u)}]),onClick:f},[o(a)==="start"?(v(),d("div",N,[e[0]||(e[0]=n("h2",null,"Sequence Memory Test",-1)),n("p",{class:"status",innerHTML:o(s).replace(/\n/g,"<br>")},null,8,$)])):(v(),d(q,{key:1},[n("div",F,[o(t)>0?(v(),d("div",R,"Level: "+C(o(t)),1)):L("",!0)]),n("div",j,[(v(!0),d(q,null,T(o(l),(i,k)=>(v(),d("div",{key:k,class:S(["square",{active:i.active,clicked:i.clicked}]),onClick:G(E=>m(k),["stop"])},null,10,x))),128))]),n("div",z,C(o(s)),1)],64))],2)]),_:1})]),_:1}),n("div",A,[e[1]||(e[1]=n("h2",null,"More Tests",-1)),g(b)])]))}},Y=M(D,[["__scopeId","data-v-52241087"]]);export{Y as default};
