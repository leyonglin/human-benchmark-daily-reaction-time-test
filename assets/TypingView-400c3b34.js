import{H as x,G as A}from"./GameSquare-00a19c17.js";import{r as u,m as P,_ as I,e as V,a as i,c as d,f as C,g as W,d as t,u as s,t as g,F as H,b as L,i as B,G as D,j as E}from"./index-bfd6a60f.js";function N(){const m=u("start"),l=u(""),o=u(""),y=u(0),p=u(0),_=u(localStorage.getItem("typingGameBestWPM")||0),h=u("Test your typing speed. Click to start."),w=e=>{const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",k="abcdefghijklmnopqrstuvwxyz",f="0123456789",b="#$@&*!%^",c=a+k+f+b;let S="";S+=a.charAt(Math.floor(Math.random()*a.length));for(let G=1;G<e;G++)S+=c.charAt(Math.floor(Math.random()*c.length));return S},r=P(()=>{if(m.value!=="typing")return{wpm:0,accuracy:0};const e=(Date.now()-y.value)/6e4,a=o.value.length/5,k=Math.round(a/e);let f=0;for(let c=0;c<o.value.length;c++)l.value[c]===o.value[c]&&f++;const b=Math.round(f/o.value.length*100)||0;return{wpm:k,accuracy:b}}),M=P(()=>{const e=[];for(let a=0;a<o.value.length;a++)l.value[a]!==o.value[a]&&e.push(a);return e}),T=e=>{if(m.value==="typing"){if(e.key==="Backspace")o.value=o.value.slice(0,-1);else if((e.key.length===1||e.key===" ")&&(o.value+=e.key,o.value.length===l.value.length)){p.value=Date.now(),m.value="result";const a=r.value.wpm;a>_.value&&(_.value=a,localStorage.setItem("typingGameBestWPM",a)),h.value=`Typing speed: ${a} WPM
Accuracy: ${r.value.accuracy}%`}}};return{gameState:m,text:l,userInput:o,currentStats:r,errors:M,bestWPM:_,gameStatus:h,startGame:()=>{const e=Math.floor(Math.random()*21)+150;l.value=w(e),o.value="",m.value="typing",y.value=Date.now(),window.addEventListener("keydown",T)},cleanup:()=>{window.removeEventListener("keydown",T)}}}const F={class:"game-page"},$={class:"game-content"},j={key:0,class:"game-screen"},q=["innerHTML"],z={key:1,class:"typing-container"},K={class:"stats"},R={class:"text-display"},U={key:2,class:"game-screen result-screen"},J={class:"result-content"},O={class:"result-stats"},Q={class:"stat-item"},X={class:"stat-value"},Y={class:"stat-item"},Z={class:"stat-value"},tt={key:0,class:"best-score"},et={class:"other-games"},st={__name:"TypingView",setup(m){const{gameState:l,text:o,userInput:y,currentStats:p,errors:_,bestWPM:h,gameStatus:w,startGame:r,cleanup:M}=N();return V(M),(T,n)=>(i(),d("div",F,[C(x,{subtitle:"How many words per minute can you type?"},{default:W(()=>[C(A,null,{default:W(()=>[t("div",$,[s(l)==="start"?(i(),d("div",j,[n[2]||(n[2]=t("h2",null,"Typing Test",-1)),t("p",{class:"status",innerHTML:s(w)},null,8,q),t("button",{class:"game-button",onClick:n[0]||(n[0]=(...v)=>s(r)&&s(r)(...v))},"Start Test")])):s(l)==="typing"?(i(),d("div",z,[t("div",K,[t("span",null,"Speed: "+g(s(p).wpm)+" WPM",1),t("span",null,"Accuracy: "+g(s(p).accuracy)+"%",1)]),t("div",R,[(i(!0),d(H,null,L(s(o),(v,e)=>(i(),d("span",{key:e,class:E({typed:e<s(y).length,error:s(_).includes(e),current:e===s(y).length})},g(v),3))),128))])])):s(l)==="result"?(i(),d("div",U,[t("div",J,[n[5]||(n[5]=t("h2",null,"Test Complete!",-1)),t("div",O,[t("div",Q,[t("div",X,g(s(p).wpm),1),n[3]||(n[3]=t("div",{class:"stat-label"},"WPM",-1))]),t("div",Y,[t("div",Z,g(s(p).accuracy)+"%",1),n[4]||(n[4]=t("div",{class:"stat-label"},"Accuracy",-1))])]),s(h)>0?(i(),d("div",tt," Personal Best: "+g(s(h))+" WPM ",1)):B("",!0),t("button",{class:"game-button",onClick:n[1]||(n[1]=(...v)=>s(r)&&s(r)(...v))},"Try Again")])])):B("",!0)])]),_:1})]),_:1}),t("div",et,[n[6]||(n[6]=t("h2",null,"More Tests",-1)),C(D)])]))}},ot=I(st,[["__scopeId","data-v-ce21f774"]]);export{ot as default};
